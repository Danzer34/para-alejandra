<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Para Alejandra - Mi Universo</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;800&display=swap" rel="stylesheet">
    <style>
        body {
            margin: 0;
            padding: 0;
            overflow: hidden;
            background-color: #05010a; /* Fondo espacial profundo */
            font-family: 'Montserrat', sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
        }

        #canvas {
            position: absolute;
            top: 0;
            left: 0;
            z-index: 1;
        }

        .centro-galaxia {
            position: relative;
            z-index: 10;
            text-align: center;
            color: white;
            pointer-events: none; /* Para que los clicks pasen a través del texto */
            /* Un fondo sutil detrás del texto para que se lea mejor sobre las fotos */
            background: radial-gradient(circle, rgba(0,0,0,0.5) 0%, rgba(0,0,0,0) 70%);
            padding: 50px;
            border-radius: 50%;
        }

        h1.nombre-principal {
            font-size: clamp(2.5rem, 8vw, 5rem);
            margin: 0;
            font-weight: 800;
            letter-spacing: 6px;
            background: linear-gradient(to right, #ff99cc, #ff3366, #9933ff);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-shadow: 0 0 25px rgba(255, 51, 102, 0.6);
            animation: latido 3s infinite ease-in-out;
        }

        #frase-rotativa {
            margin-top: 15px;
            font-size: clamp(0.9rem, 3vw, 1.4rem);
            color: #f0e6ff;
            font-weight: 300;
            height: 2em;
            transition: opacity 0.8s ease-in-out;
            text-shadow: 0 0 10px rgba(0,0,0,1);
        }

        /* Botón de Música */
        #btnMusica {
            position: fixed;
            bottom: 30px;
            z-index: 100;
            padding: 15px 30px;
            background: rgba(255, 255, 255, 0.1);
            color: white;
            border: 1px solid rgba(255, 255, 255, 0.3);
            border-radius: 50px;
            cursor: pointer;
            backdrop-filter: blur(10px);
            font-size: 0.9rem;
            letter-spacing: 1px;
            transition: all 0.3s ease;
            box-shadow: 0 0 15px rgba(255, 51, 102, 0.3);
        }

        #btnMusica:hover {
            background: #ff3366;
            box-shadow: 0 0 30px rgba(255, 51, 102, 0.8);
            transform: translateY(-5px);
        }

        @keyframes latido {
            0%, 100% { transform: scale(1); filter: brightness(1); }
            50% { transform: scale(1.05); filter: brightness(1.3); }
        }

        /* Ocultamos las imágenes originales, solo las queremos en el canvas */
        #image-assets {
            display: none;
        }
    </style>
</head>
<body>

    <canvas id="canvas"></canvas>

    <div class="centro-galaxia">
        <h1 class="nombre-principal">ALEJANDRA</h1>
        <div id="frase-rotativa">Cargando nuestro universo...</div>
    </div>

    <button id="btnMusica" onclick="toggleMusica()">✨ TOCA PARA EMPEZAR ✨</button>

    <audio id="musicaFondo" loop>
        <source src="Mac-miller.mp3" type="audio/mpeg">
    </audio>

    <div id="image-assets">
        <img id="img0" src="image_0.png" alt="foto">
        <img id="img1" src="image_1.png" alt="foto">
        <img id="img2" src="image_2.png" alt="foto">
        <img id="img3" src="image_3.png" alt="foto">
        <img id="img4" src="image_4.png" alt="foto">
        <img id="img5" src="image_5.png" alt="foto">
        <img id="img6" src="image_6.png" alt="foto">
        <img id="img7" src="image_7.png" alt="foto">
    </div>

    <script>
        // --- CONFIGURACIÓN DE FRASES ---
        const frasesParaAlejandra = [
            "Eres el centro de mi universo entero.",
            "Mi galaxia favorita eres tú, Alejandra.",
            "Cada estrella brilla pensando en ti.",
            "No hay nada más divino que tú.",
            "Gracias por estar en mi mundo.",
            "Te amo más allá de las estrellas.",
            "Alejandra, mi sol y mi luna.",
            "Nuestros recuerdos son mi tesoro."
        ];

        // --- LÓGICA DE INTERFAZ Y MÚSICA ---
        let fraseIndex = 0;
        const fraseElement = document.getElementById('frase-rotativa');
        const musica = document.getElementById('musicaFondo');
        const btn = document.getElementById('btnMusica');
        let musicaIniciada = false;

        function cambiarFrase() {
            fraseElement.style.opacity = 0;
            setTimeout(() => {
                fraseIndex = (fraseIndex + 1) % frasesParaAlejandra.length;
                fraseElement.textContent = frasesParaAlejandra[fraseIndex];
                fraseElement.style.opacity = 1;
            }, 800);
        }

        function toggleMusica() {
            if (!musicaIniciada) {
                 setInterval(cambiarFrase, 4000);
                 musicaIniciada = true;
            }
            if (musica.paused) {
                musica.play().catch(e => console.log("Error al reproducir:", e));
                btn.innerHTML = "⏸️ PAUSAR AMOR";
            } else {
                musica.pause();
                btn.innerHTML = "▶️ SEGUIR DISFRUTANDO";
            }
        }

        // --- LÓGICA DE LA GALAXIA (CANVAS) ---
        const canvas = document.getElementById('canvas');
        const ctx = canvas.getContext('2d');
        let width, height, particles = [];

        // Recolectar las imágenes del HTML
        const userImages = [];
        for(let i=0; i<8; i++) {
            userImages.push(document.getElementById('img' + i));
        }

        function resize() {
            width = canvas.width = window.innerWidth;
            height = canvas.height = window.innerHeight;
            initParticles();
        }

        // Fórmula matemática del corazón
        function getHeartPosition(scale) {
            let t = Math.random() * Math.PI * 2;
            let x = 16 * Math.pow(Math.sin(t), 3);
            let y = -(13 * Math.cos(t) - 5 * Math.cos(2 * t) - 2 * Math.cos(3 * t) - Math.cos(4 * t));
            // Relleno aleatorio dentro del corazón
            let r = Math.sqrt(Math.random());
            // Centrar en pantalla
            return { 
                x: width/2 + x * scale * r, 
                y: height/2 + y * scale * r 
            };
        }

        class Particle {
            constructor() {
                this.scale = Math.min(width, height) / 45; // Escala del corazón
                let pos = getHeartPosition(this.scale);
                this.x = pos.x;
                this.y = pos.y;
                this.vx = (Math.random() - 0.5) * 0.4; // Velocidad de movimiento
                this.vy = (Math.random() - 0.5) * 0.4;
                this.alpha = Math.random() * 0.5 + 0.5; // Transparencia

                // Decidir si es una imagen o una estrella normal (20% probabilidad de ser imagen)
                this.isImage = Math.random() < 0.20; 

                if (this.isImage) {
                    // Elegir una imagen al azar
                    this.imageImg = userImages[Math.floor(Math.random() * userImages.length)];
                    // Tamaño de la imagen en el canvas (entre 25px y 55px)
                    this.imgSize = Math.random() * 30 + 25;
                } else {
                    // Es una estrella normal
                    this.size = Math.random() * 2.5 + 0.5;
                    this.color = `hsla(${320 + Math.random() * 40}, 100%, 70%, ${Math.random()})`;
                }
            }

            update() {
                this.x += this.vx;
                this.y += this.vy;
                
                // Fluctuación de transparencia para dar efecto de titileo
                this.alpha += (Math.random() - 0.5) * 0.02;
                if(this.alpha < 0.3) this.alpha = 0.3;
                if(this.alpha > 1) this.alpha = 1;

                // Si se aleja mucho, reiniciamos su posición dentro del corazón
                if(Math.random() > 0.995) {
                    let pos = getHeartPosition(this.scale);
                    this.x = pos.x; this.y = pos.y;
                }
            }

            draw() {
                ctx.globalAlpha = this.alpha; // Aplicar transparencia

                if (this.isImage && this.imageImg.complete) {
                    // Dibujar imagen centrada en su posición X, Y
                    ctx.drawImage(this.imageImg, this.x - this.imgSize/2, this.y - this.imgSize/2, this.imgSize, this.imgSize);
                    // Opcional: añadir un borde sutil brillante a las fotos
                    ctx.strokeStyle = "rgba(255, 100, 150, 0.3)";
                    ctx.lineWidth = 1;
                    ctx.strokeRect(this.x - this.imgSize/2, this.y - this.imgSize/2, this.imgSize, this.imgSize);

                } else if (!this.isImage) {
                    // Dibujar estrella normal
                    ctx.fillStyle = this.color;
                    ctx.shadowBlur = 8;
                    ctx.shadowColor = this.color;
                    ctx.beginPath();
                    ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
                    ctx.fill();
                    ctx.shadowBlur = 0; // Reset sombra
                }
                ctx.globalAlpha = 1; // Reset transparencia global
            }
        }

        function initParticles() {
            particles = [];
            // Cantidad de partículas basada en el tamaño de pantalla
            let count = (width * height) / 600;
            for(let i=0; i<count; i++) particles.push(new Particle());
        }

        function animate() {
            // Limpiar el canvas con un rastro suave
            ctx.fillStyle = 'rgba(5, 1, 10, 0.2)';
            ctx.fillRect(0, 0, width, height);
            
            particles.forEach(p => { p.update(); p.draw(); });
            requestAnimationFrame(animate);
        }

        // Esperar a que las imágenes carguen un poco antes de iniciar la animación
        window.onload = function() {
            resize();
            animate();
        };
        window.addEventListener('resize', resize);

    </script>
</body>
</html>
